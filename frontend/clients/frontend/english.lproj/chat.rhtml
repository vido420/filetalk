<% view :chatView do %>
<div id="chat_main">
	<% scroll_view :chat_history_scroll_view, :outlet => true do %>
		<%= list_view :chat_history_view, :outlet => true,
			:content_value_key => 'message',
			:bind => {
				:content => 'Frontend.chatHistoryController.arrangedObjects'
			} %>
	<% end %>
	<div id="chat_message">
		<% form_view :chatForm, :outlet => true do %>
		<p>
			<%= text_field_view :outlet => :chatMessage, :class => 'new_message',
						:hint => loc(%(Chat_Enter)) %>
			<%= button_view :outlet => :sendButton, :class => 'send_button',
						:label => loc(%(Chat_Send)), :default => true,
						:enabled => true, :action => 'Frontend.chatController.send' %>
		</p>
		<% end %>
	</div>
</div>
<% scroll_view :userlist_scroll_view, :outlet => true do %>
	<%= list_view :userlist_view, :outlet => true,
		:example_view => 'Frontend.UserListItemView',
		:content_value_key => 'nick', :content_icon_key => 'icon',
		:bind => {
			:content => 'Frontend.userlistController.arrangedObjects',
			:selection => 'Frontend.userlistController.selection'
		} %>
<% end %>
<div class="tools">
	<ul>
		<li id="tool_sendpm">
			<a href="javascript: Frontend.appController.notImplemented();">
				<%= loc(%(User_Send_PM)) %>
			</a>
		</li>
		<li id="tool_privatechat">
			<a href="javascript: Frontend.appController.notImplemented();">
				<%= loc(%(User_Private_Chat)) %>
			</a>
		</li>
		<li id="tool_userinfo">
			<a href="javascript: Frontend.appController.notImplemented();">
				<%= loc(%(User_Get_Info)) %>
			</a>
		</li>
		<li id="tool_changename">
			<a href="javascript: Frontend.chatController.showChangeNickDialog();">
				<%= loc(%(User_Change_Name)) %>
			</a>
		</li>
	</ul>
</div>
<% end %>
